# description of homework

Створити бекенд сервер з розділенням на роути, контролери і додати тести, 
які будувати тестувати відносно завдань частинки вашого проекту

1)Unit-тест сервісу користувача (UserService)

Напиши unit-тести для UserService.getUserById(id), 
використовуючи mock БД (наприклад, з jest.mock() або sinon.stub()).

// userService.js
const db = require('../db');

async function getUserById(id) {
return db.users.findById(id);
}
module.exports = { getUserById };

Що протестувати:
-Повертає користувача з правильним ID
-Обробляє неіснуючого користувача
-Кидає помилку при збої в БД

2)Integration-тест створення користувача

Протестуй POST /users, що створює користувача в реальній тестовій БД
(можна з in-memory DB як sqlite або mongodb-memory-server).

Перевірити:

-статус 201
-відповідь містить id, name, email
-запис з’явився в БД

3)E2E-тест сценарію входу

Реалізуй тест на:

-Створення користувача
-Вхід POST /login з правильними даними
-Отримання JWT токена
-Доступ до захищеного ресурсу з цим токеном

Перевірити:

-правильний статус (200 OK)
-токен у відповіді
-GET /profile з токеном працює
-без токена повертає 401

4)Підрахунок замовлень у користувача

Напиши GET /users/:id/orders/count, який повертає кількість замовлень для користувача.

Перевірити:

-правильну кількість (при попередньому додаванні)
-результат 0, якщо замовлень немає
-статус 404, якщо користувача не існує

5)Очистка БД перед кожним тестом

